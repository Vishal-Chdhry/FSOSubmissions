{"version":3,"sources":["Components/PersonDetails.js","Components/Form.js","Components/SearchFIlter.js","services/persons.js","App.js","index.js"],"names":["Phonebook","name","handleDelete","number","onClick","Form","props","onSubmit","addPerson","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","Filter","filterOutput","map","person","id","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","newSearch","setNewSearch","setFilterOutput","notification","setNotification","error","setError","useEffect","personServices","names","nmes","Noti","message","className","Err","event","preventDefault","filter","indexOf","target","nameObject","window","confirm","concat","catch","err","note","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.eef9beb4.chunk.js","sourcesContent":["const Phonebook = ({name, handleDelete}) => {\n     return (          \n         <p> {name.name} {name.number} <button onClick= {handleDelete}>delete</button></p>  \n     )\n}\n\n\nexport default Phonebook","const Form= (props) => {\n  return(\n    <form onSubmit= {props.addPerson}>\n    <div>\n      name: <input \n      value= {props.newName} \n      onChange= {props.handleNameChange} />\n      <br/>\n      number: <input \n      value= {props.newNumber}\n      onChange= {props.handleNumberChange} />\n    </div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n  )\n}\n\nexport default Form","const Filter = (props) => {\n     return (<div>{(props.filterOutput).map(person=> <p key= {person.id}>{person.name} {person.number}</p>)}</div>)\n}\n\nexport default Filter","import axios from 'axios'\nconst baseUrl= '/api/persons'\n\nconst getAll = () => {\n  const request= axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request= axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request= axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst del = (id) => {\n     const request= axios.delete(`${baseUrl}/${id}`)\n     return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, del }","import React, { useEffect, useState } from 'react'\nimport Phonebook from './Components/PersonDetails'\nimport Form from './Components/Form'\nimport Filter from './Components/SearchFIlter'\nimport personServices from './services/persons'\nimport axios from 'axios'\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newSearch, setNewSearch ] = useState('')\n  const [ filterOutput, setFilterOutput ] = useState([])\n  const [ notification, setNotification ] = useState(null)\n  const [ error, setError ] = useState(null)\n  \n  useEffect(() => {  personServices.getAll().then(response =>{setPersons(response)})  }, [])\n  const names= persons.map(nmes => nmes.name)\n\n  const handleNameChange= (event) => {\n    setNewName(event.target.value)\n  }\n\n\n  const handleNumberChange= (event) => {\n    setNewNumber(event.target.value)\n  }\n\n\n  const handleFilter= (event) => {\n    setNewSearch(event.target.value)\n  }\n\n\n  const SearchNames= (event)=> {\n    setFilterOutput([])\n    event.preventDefault()\n    setFilterOutput(persons.filter(person => person.name.indexOf(newSearch) !== -1))\n    setNewSearch('')\n  }\n\n  const Noti =({message}) => {\n    if (message=== null){\n      return null\n    }\n    return (\n      <div className= \"notification\">\n        {message}\n      </div>\n    )\n  }\n\n  const Err =({message}) => {\n    if (message=== null){\n      return null\n    }\n    return (\n      <div className= \"error\">\n        {message}\n      </div>\n    )\n  }\n\n\n  const addPerson =(event) => {\n    event.preventDefault()\n    const nameObject = {\n      name: newName,\n      number: newNumber,\n    }\n    if (names.indexOf(newName) !== -1) {\n      if(window.confirm(`${newName} is already added to phonebook, do you want to replace the number`)){\n        setNotification(`${newName}' s number has been replaced`)\n        return(\n          personServices.update(persons[names.indexOf(newName)].id, nameObject),\n          personServices.getAll().then(response =>{ setPersons(response)}),\n          setNewName(''),\n          setNewNumber('')\n        )\n      }\n    \n    }\n    personServices.create(nameObject)\n    .then(response => {\n      setPersons(persons.concat(response))\n      setNotification(`${newName} has been added to the phonebook`)\n    })\n    .catch(err => setError(err.response.data.error))\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleDelete = person =>{\n    if (window.confirm(`Do you really want to delete ${person.name}`)) {\n      personServices.del(person.id).catch(err => {\n      setError(`Information about ${person.name} has already been removed from the server`)\n      })\n      personServices.getAll().then(response =>{ setPersons(response)})\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Noti message= {notification}/>\n      <Err message= {error}/>\n      <form onSubmit= {SearchNames}>\n      <div>\n        filter shown with: \n        <input\n        value= {newSearch} \n        onChange= {handleFilter}\n        /> \n        <br/>\n        <button type= 'submit'>search</button> \n        <Filter filterOutput= {filterOutput}/>\n      </div>\n      </form>\n      <div></div>\n\n      <h2>add a new</h2>      \n      <Form \n        addPerson= {addPerson} \n        newName={newName} \n        newNumber= {newNumber} \n        handleNameChange= {handleNameChange} \n        handleNumberChange= {handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <div>\n        {persons.map((note) =>\n        <div key= {note.id}>\n          <Phonebook \n          name= {note} \n          handleDelete= {() => handleDelete(note)}\n          />\n        </div> \n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App.js'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}